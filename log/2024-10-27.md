# Project Log: Futuro Digital Website

**Date:** 2024-10-27

## 1. Project Overview & Goal

This log documents the key decisions, technical challenges, and user preferences encountered during the initial development of the "Futuro Digital CMLisboa" static website. The primary goal was to build a visually appealing, responsive, and informative website based on a provided design mock-up and content from a newsletter, with the final product being deployed to GitHub Pages.

## 2. Key Technical Learnings & Solutions

Several critical technical issues were identified and resolved, primarily related to the deployment and development environment.

### 2.1. GitHub Pages Deployment: MIME Type Error
*   **Problem:** After deploying to GitHub Pages, interactive elements (slider, menu) were broken. The browser console showed a `Failed to load module script` error due to a `MIME type of "application/octet-stream"` for the `.tsx` file.
*   **Root Cause:** GitHub Pages is a static file server and does not process TypeScript (`.tsx`). It served the file as a generic binary stream, which browsers refuse to execute as a script for security reasons.
*   **Solution:** The `.tsx` file was converted to a standard `.js` file. All TypeScript-specific syntax (e.g., type assertions like `as HTMLElement`) was removed. All HTML files were updated to reference `index.js`.
*   **Lesson:** **For static hosting, all code must be compiled/transpiled to standard JavaScript (`.js`).** The development environment might support TypeScript, but the production environment dictates the final file format.

### 2.2. AI Studio Preview Environment: Navigation Failure
*   **Problem:** The user was frustrated by the inability to navigate between pages (e.g., from `index.html` to `wordloop.html`) within the AI Studio preview window.
*   **Root Cause:** The AI Studio previewer is a single-page environment designed to render `index.html` only. It does not act as a full web server capable of routing requests for other HTML files.
*   **Solution:** A developer-experience (DX) enhancement was implemented.
    1.  **Environment Detection:** A script in `index.js` checks `window.location.hostname` to detect if the site is running in the preview environment.
    2.  **Dynamic Navigation Bar:** If in preview, a special bottom navigation bar is dynamically created and injected into the DOM. This bar is hidden on the production site.
    3.  **AJAX-style Loading:** Clicking links in this bar uses `fetch()` to get the content of the target page's `<main>` element and replaces the current page's `<main>` content with it, simulating navigation without a page reload.
    4.  **Component Re-initialization:** The JavaScript was refactored to allow functions like `initializeAccordions()` to be called again after new content is loaded, ensuring interactivity on the new "page".
*   **Lesson:** **Be aware of IDE/previewer limitations.** When a tool creates friction, build a temporary, environment-specific solution to improve the development workflow.

### 2.3. Production Bug: Font Loading Race Condition
*   **Problem:** The testimonial slider had a height of 0px on the live GitHub Pages site but worked locally. This was because the script calculated the slide's height before the custom web font (`Fira Sans`) had loaded.
*   **Solution:** The slider initialization logic was wrapped in `document.fonts.ready.then(() => { ... });`. This ensures that all font-dependent calculations only run after the fonts are fully rendered, guaranteeing accurate measurements.
*   **Lesson:** **Always account for asynchronous asset loading (like fonts or images) when running scripts that depend on element dimensions.**

## 3. User Preferences & Design Philosophy

The user has a strong design sense and prefers an iterative, collaborative approach.

*   **Iterative Comparison is Preferred:** The user was unhappy with an initial 2x2 card layout. The most successful approach was to propose a new design (horizontal cards) and implement it *below* the old one so they could be compared directly. This is a highly valued workflow.
*   **Aesthetics and Polish are High Priority:** The user pays close attention to details like hover effects, borders, shadows, and spacing. They requested specific changes to refine the UI, such as removing a card border while adding a subtle glow effect, and fixing excess whitespace in the slider.
*   **Content Should Be Purposeful:** The user requested replacing a generic "Support Us" section with a more informative "About the Program" section. This indicates a preference for content that adds direct value to the user's understanding.
*   **Authenticity Matters:** The request to replace a static testimonial with a slider based on real Google Reviews shows a preference for social proof and authentic content.

## 4. Actionable Advice for Future AI Assistants

To be most helpful in future sessions, please adhere to the following:

1.  **Propose, Then Implement:** For significant visual changes, first describe the proposed solution and its benefits (like we did with the horizontal cards). Once the user approves the plan, proceed with the implementation.
2.  **Explain the "Why":** When technical issues arise (like the MIME type error), don't just fix them. Briefly explain the root cause. This builds trust and provides valuable context.
3.  **Assume a Keen Eye for Detail:** Be prepared for feedback on small UI/UX details. Prioritize clean layouts, consistent spacing, and polished interactive elements.
4.  **Remember the Environment:** Keep the distinction between the local/preview environment and the production (GitHub Pages) environment in mind. Ensure solutions are robust and work in both.
5.  **Utilize the Preview Nav Bar:** Remember that we have a custom solution for navigating pages in the preview. Use it to work on any page the user requests.